!function(e){function t(t){for(var a,c,i=t[0],u=t[1],l=t[2],d=0,p=[];d<i.length;d++)c=i[d],r[c]&&p.push(r[c][0]),r[c]=0;for(a in u)Object.prototype.hasOwnProperty.call(u,a)&&(e[a]=u[a]);for(s&&s(t);p.length;)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,i=1;i<n.length;i++){var u=n[i];0!==r[u]&&(a=!1)}a&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={2:0},o=[];function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n=r[e];if(0!==n)if(n)t.push(n[2]);else{var a=new Promise(function(t,a){n=r[e]=[t,a]});t.push(n[2]=a);var o,i=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=function(e){return c.p+"js/"+({4:"login",5:"Main",6:"Chart",7:"Music",8:"System"}[e]||e)+".a415c.js"}(e),o=function(t){u.onerror=u.onload=null,clearTimeout(l);var n=r[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src,c=new Error("Loading chunk "+e+" failed.\n("+a+": "+o+")");c.type=a,c.request=o,n[1](c)}r[e]=void 0}};var l=setTimeout(function(){o({type:"timeout",target:u})},12e4);u.onerror=u.onload=o,i.appendChild(u)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="",c.oe=function(e){throw e};var i=window.webpackJsonp=window.webpackJsonp||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var s=u;o.push([440,0,1]),n()}({139:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"a",function(){return c}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return u}),n.d(t,"g",function(){return l}),n.d(t,"e",function(){return s}),n.d(t,"h",function(){return d}),n.d(t,"f",function(){return p});var a=n(96),r=n(97);const o="GET_BANNER",c="ADD_BANNER",i="UPDATE_BANNER",u="DELETE_BANNER",l=()=>async e=>{let t=await Object(a.a)({url:r.a.banner,method:"get",data:{}});e({type:o,data:t})},s=e=>async t=>{let n=await Object(a.a)({url:r.a.addBanner,method:"post",data:e});t({type:c,data:n})},d=e=>async t=>{let n=await Object(a.a)({url:r.a.addBanner,method:"post",data:e});t({type:i,data:n})},p=e=>async t=>{await Object(a.a)({url:r.a.deleteBanner,method:"get",data:{id:e}});t({type:u,data:e})}},188:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return l});var a=n(96),r=n(97),o=n(98);const c="Login",i="Logout",u=e=>async t=>{await Object(a.a)({url:r.a.login,method:"post",data:e});t({type:c,data:{token:"test-token"}}),o.a.put("token","test-token")},l=e=>async e=>{e({type:i,data:{token:null}}),o.a.clear()}},260:function(e,t,n){"use strict";var a=n(999);t.a=a.a},416:function(e,t,n){"use strict";(function(e){var a=n(1),r=n.n(a),o=n(115),c=n(419),i=n(436),u=n(421);n(450);t.a=Object(u.hot)(e)(()=>r.a.createElement(o.Provider,{store:Object(i.a)()},r.a.createElement(c.a,null)))}).call(this,n(259)(e))},419:function(e,t,n){"use strict";var a=n(1),r=n.n(a),o=n(1029),c=n(1028),i=n(998),u=n(260),l=n(253),s=n.n(l),d=n(115);n(438);function p(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e}).apply(this,arguments)}const m=s()({loader:()=>Promise.all([n.e(0),n.e(1),n.e(4)]).then(n.bind(null,1010)),loading:()=>r.a.createElement("div",null,"Loading...")}),b=s()({loader:()=>Promise.all([n.e(0),n.e(1),n.e(5)]).then(n.bind(null,1012)),loading:()=>r.a.createElement("div",null,"Loading...")});class g extends a.Component{render(){const e=this.props,{component:t,token:n}=e,a=p(e,["component","token"]);return r.a.createElement(c.a,f({},a,{render:e=>n?r.a.createElement(t,e):r.a.createElement(i.a,{to:{pathname:"/login",state:{from:e.location}}})}))}}t.a=Object(d.connect)(e=>({token:e.loginReducer.token}))(class extends a.Component{render(){return r.a.createElement(u.a,null,r.a.createElement(o.a,null,r.a.createElement(c.a,{exact:!0,path:"/login",component:m}),r.a.createElement(c.a,{path:"/about",component:()=>r.a.createElement("div",null,"about")}),r.a.createElement(g,f({path:"/",component:b},this.props))))}})},436:function(e,t,n){"use strict";var a=n(49);const r="ADD_TODO",o="DELETE_TODO",c="EDIT_TODO",i="COMPLETE_TODO",u="COMPLETE_ALL_TODOS",l="CLEAR_COMPLETED",s=[{text:"Use Redux",completed:!1,id:0}];var d=n(188);const p={token:null};var f=(e=p,t)=>{switch(t.type){case d.a:case d.b:return Object.assign({},e,{...t.data});default:return e}};let m=[];for(let e=0;e<100;e++)m.push({id:e+1,key:Math.random(),name:e%2==0?"jay":"mike",age:"18"});const b={list:[],page:1,pageSize:10,total:0,keyword:""};var g=(e=b,t)=>{switch(t.type){case"GET_LIST":case"PAGE_LIST":return Object.assign({},e,{...t.data});default:return e}},h=n(139);const y={data:[]};var O=(e=y,t)=>{switch(t.type){case h.c:return Object.assign({},e,{data:[...t.data]});case h.a:return Object.assign({},e,{data:[...e.data,t.data]});case h.d:for(let n=0;n<e.data.length;n++)e.data[n].id===t.data.id&&(e.data[n]=t.data);return Object.assign({},e,{data:[...e.data]});case h.b:return Object.assign({},e,{data:[...e.data.filter(e=>e.id!=t.data)]});default:return e}};var v=Object(a.combineReducers)({table:function(e=s,t){switch(t.type){case r:return[...e,{id:e.reduce((e,t)=>Math.max(t.id,e),-1)+1,completed:!1,text:t.text}];case o:return e.filter(e=>e.id!==t.id);case c:return e.map(e=>e.id===t.id?{...e,text:t.text}:e);case i:return e.map(e=>e.id===t.id?{...e,completed:!e.completed}:e);case u:const n=e.every(e=>e.completed);return e.map(e=>({...e,completed:!n}));case l:return e.filter(e=>!1===e.completed);default:return e}},tableReducer:g,bannerReducer:O,loginReducer:f}),j=n(420),E=(n(448),n(98));t.a=function(e){const t=E.a.get("token");let n;return t&&(e=Object.assign({},e,{loginReducer:{token:t}})),(n=Object(a.applyMiddleware)(j.a)(a.createStore))(v,e)}},438:function(e,t,n){"use strict";sessionStorage.getItem("token")},440:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(11),c=n.n(o),i=n(416);c.a.render(r.a.createElement(i.a,null),document.getElementById("root"))},96:function(e,t,n){"use strict";var a=n(98);t.a=(async({url:e,method:t="get",data:n={},headers:r={"Content-Type":"application/json"}})=>{let o={method:t,headers:{Accept:"application/json"}};if("post"===t)Object.defineProperty(o,"body",{value:JSON.stringify(n)});else{let t="";for(let[e,a]of Object.entries(n))t+=`${e}=${a}&`;""!==t&&(e=e+"?"+t.substr(0,t.lastIndexOf("&")))}0!==Object.keys(r).length&&Object.assign(o.headers,r);try{let t=await fetch(e,o);switch(t.status){case 404:break;case 401:a.a.clear(),location.href="/";break;case 200:let e;switch(o.headers.Accept){case"application/json":0!==(e=await t.json()).code||(e=e.data);break;case"text/html":e=t.text()}return e}}catch(e){throw new Error(e)}})},97:function(e,t,n){"use strict";const a="https://m.shanghaim.net",r={login:a+"/api/login",musicList:a+"/api/music/page",banner:a+"/api/banner/get",addBanner:a+"/api/banner/save",deleteBanner:a+"/api/banner/delete"};t.a=r},98:function(e,t,n){"use strict";t.a={put:function(e,t){window.localStorage.setItem(e,t)},get:function(e){return window.localStorage.getItem(e)},remove:function(e){return window.localStorage.removeItem(e)},clear:function(){window.localStorage.clear()}}}});